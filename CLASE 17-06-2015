CREATE TABLE AEROLINEA(
ID_AEROLINEA INTEGER,
ID_VUELO VARCHAR2(120),
CONSTRAINT PK_ID_AEROLINEA primary key (ID_AEROLINEA));

CREATE TABLE AVION(
ID_AVION INTEGER,
ID_AEROLINEA INTEGER,
ASIENTO INTEGER,
CONSTRAINT PK_ID_AVION primary key (ID_AVION),
CONSTRAINT FK_ID_AEROLINEA  foreign key (ID_AEROLINEA) REFERENCES AEROLINEA(ID_AEROLINEA));

CREATE SEQUENCE SEC_AEROLINEA
START WITH 1
INCREMENT BY 1
NOMAXVALUE;

CREATE SEQUENCE SEC_AVION
START WITH 1
INCREMENT BY 1
NOMAXVALUE;

CREATE OR REPLACE PROCEDURE GUARDAR_AVION(MY_ID_AVION OUT INTEGER, MY_ID_AEROLINEA OUT VARCHAR2, MY_ASIENTO IN INTEGER)
AS
BEGIN
SELECT SEC_AVION.NEXTVAL INTO MY_ID_AVION FROM DUAL;
INSERT INTO AVION VALUES (MY_ID_AVION, MY_ID_AEROLINEA, MY_ASIENTO);
END;
/
CREATE OR REPLACE PROCEDURE GUARDAR_AEROLINEA(MY_ID_AEROLINEA OUT INTEGER, MY_NOMBRE IN VARCHAR2)
AS
BEGIN
SELECT SEC_AEROLINEA.NEXTVAL INTO MY_ID_AEROLINEA FROM DUAL;
INSERT INTO AEROLINEA VALUES (MY_ID_AEROLINEA, MY_NOMBRE);
END;
/
DECLARE
ALGO INTEGER;
BEGIN
GUARDAR_AEROLINEA(ALGO,'AEROMEXICO');
END;

SELECT * FROM AEROLINEA;

DECLARE
ALGO INTEGER;
ALGO2 INTEGER;
BEGIN
GUARDAR_AVION(ALGO,1,125);
END;

SELECT * FROM AVION;
